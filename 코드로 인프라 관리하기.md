# IaC(Infrastructure as Code) 개요
- 클라우드 컴퓨팅
  - 사용자의 직접적인 활발한 관리 없이 특히, 데이터 스토리지(클라우드 스토리지)와 컴퓨팅 파워와 같은 컴퓨터 시스템 리소스를 필요시 바로 제공(on-demand availabiltiy)하는 것 
  - 인터넷 기반 컴퓨팅의 일종으로 정보를 자신의 컴퓨터가 아닌 클라우드에 연결된 다른 컴퓨터로 처리하는 기술을 의미함
  - 공유 컴퓨터 처리 자원과 데이터를 컴퓨터와 다른 장치들에 요청 시 제공해줌. 구성 가능한 컴퓨팅 자원(컴퓨터 네트워크, 데이터 베이스, 서버, 스토리지, 애플리케이션, 서비스, 인텔리전스)에 대해 어디서나 접근할 수 잇는 주문형 접근을 간으케하는 모델이며 최소한의 관리 노력으로 빠르게 예비 및 릴리스를 가능케함 
- Server(Backend)
  - 클라이언트에게 네트워크를 통해 정보나 서비스를 제공하는 컴퓨터 시스템으로 컴퓨터 프로그램(sever program) 또는 장치(device)를 의미함 
  - Home server : 집에서 직접 간단한 홈서버를 구축할 수 있음 
  - Internet Data Center(IDC) : IDC에 공간을 임대해서 서버를 구축할 수 있음 
  - Cloud Service : AWS와 같은 클라우드 서비스를 이용해서 서버를 구축할 수 있음 
  - 온프레미스(On-Premise) : 온프레미스 환경은 자체적인 서버를 구축해서 직접 서버를 운영하는 방식을 의미함 
  - 클라우드(Cloud) : 클라우드 서비스는 AWS와 같은 클라우드 프로바이더에 제공되는 서비스를 이용해 직접 서버를 구축하지 않고 서버를 임대해서 사용하는 방식을 의미함 
- 클라우드 서비스의 장점
  - 신속성 : 서버 구축과 삭제를 클릭 몇 번을 이용해서 몇분내로 신속하게 진행할 수 있음 
  - 유연성 : 트랙픽이 몰릴때는 서버 대수를 늘렸다가, 트래픽이 감소할 경우 서버 대수를 줄이는 형태로 유연하게 서버 운영이 가능함 
  - 경제성 : 클라우드 서비스는 사용한 시간만큼만 비용을 지불하면되기 때문에 경제적 
- MSA(MicroService Architecture) 
  - 마이크로서비스는 애플리케이션을 느슨하게 결합된 서비스의 모임으로 구조화하는 서비스 지향 아키텍처(SOA) 스타일의 일종인 소프트웨어 개발기법
  - 마이크로 서비스 아키텍처에서 서비스들은 섬세(fine-grained)하고 프로토콜은 가벼운 편 
  - 애플리케이션을 더 조그마한 여러 서비스를 분해할 때의 장점은 모듈성을 개선하고 애플리케이션의 이해, 개발, 테스트를 더 쉽게 해주고 애플리케이션 침식에 더 탄력적으로 만들어 줌 
  - 규모가 작은 자율적인 팀들이 팀별 서비스를 독립적으로 개발, 전개, 규모 확장을 할수 있게 함으로써 병렬로 개발할 수 있게 함. 지속적인 리팩터링을 통해 개개의 서비스 아키텍처가 하나로 병합될 수 있게 허용함. 
  - 마이크로서비스 기반 아키텍처는 지속적 배포와 전개(디플로이)를 가능케 함 
  - 특징
    - MSA의 서비스들은 HTTP와 같은 기술 불가지론적인 프로토콜을 사용하여 목표를 달성하기 위해 네트워크를 통해 통신하는 프로세스들인 경우도 있음 
    - 마이크로서비스 아키텍처의 서비스들은 독립적인 전개(deploy)가 가능함
    - 서비스 교체가 쉬움
    - 서비스는 기능별로 분류됨 
    - 서비스는 최적의 조건에 부합하는 바에 따라 각기 다른 프로그래밍 언어, 데이터베이스, 하드웨어, 소프트웨어 환경을 사용하여 구현할 수 있음 
    - 서비스들은 규모가 작고, 메시지 전달이 가능하며 컨텍스트별로 묶이며 자율적으로 개발되며 독립적으로 전개할 수 있으며 분산적이며 빌드가 되며 자동화된 프로세스들로 출시됨 
  - 아키텍처
    - 모듈성이 있는 구조를 자연스럽게 강제함 
    - 자기 자신을 지속적 배포 소프트웨어 개발 프로세스에 위치시킴. 애플리케이션의 사소한 부분의 변경은 하나 이상의 적은 수의 서비스의 다시 빌드, 재전개만을 필요로 함 
    - 섬세한 인터페이스(독립적으로 서비스를 전개할 수 있음), 비즈니스 주도의 개발(도메인 드리븐 디자인), 클라우드 애플리케이션 아키텍처, 폴리곳 프로그래밍, 퍼시스턴스, 가벼운 컨테이너 전개, 탈중심화된 지속적 배포, 전체론적인 서비스 모니터링을 갖춘 데브옵스와 같은 원칙들을 고수함 
    - 확장성에 이득이 되는 특징들을 제공함 
  - 모놀리틱 아키텍처와 비교 
    - 모놀리틱 아키텍처는 하나의 애플리케이션의 모든 기능이 하나의 구조에 통합되어 있는 형태. 전통적인 소프트웨어 개발 방법론에서 자주 사용되던 방법론 
    - 하나의 구성환경만 관리하면 되기 때문에 개발 및 테스트가 용이하다는 장점이 있지만 배포의 어려움과 프로젝트가 커지면 전체 코드를 파악하기 힘들다는 단점이 있음. 소규모 애플리케이션 개발에 적합한 구조 
    - MSA는 하나의 애플리케이션을 여러 단위의 기능 별로 나누는 형태. 기능 별로 나누어서 배포를 가능하고, 유연한 확장이 가능하다는 장점이 있음. 연관된 여러 모듈들간의 통합 테스트가 어렵고, 흩어진 설정들을 통합적으로 잘 관리해야한다는 단점이 있음. 복잡한 대규모 어플리케이션 개발에 적합한 구조 
- DevOps
  - 소프트웨어의 개발과 운영의 합성오러서 소프트웨어 개발자와 정보기술 전문가 간의 소통, 협업 및 통합을 강조하는 개발 환경이나 문화를 말함
  - 데브옵스는 소프트웨어 개발조직과 운영조직간의 상호 의존적 대응이며 조직이 소프트웨어 제품과 서비스를 빠른 시간에 개발 및 배포하는 것을 목적으로 함 
  - 개선된 배치 주기를 포함 
    - 제품 출시까지 걸리는 시간 단축
    - 새로운 판의 더 낮은 실패율
    - 픽스 간 짧아진 리드 타임(상품 생산 시작부터 완성까지 걸리는 시간)
    - 복구 시 더 빠른 평균 시간(새로운 릴리스의 충돌 및 그 밖에 현재의 시스템을 비활성화하는 상황에서) 
    - 단순한 프로세스들은 데브옵스 접근을 사용하여 더 프로그래밍 가능하게 되고 유동적으로 되고 잇음. 데브옵스는 운영 프로세스의 예측 가능성, 효율성, 보안, 유지보수 가능성을 극대화하는 것이 목적. 
- IaC(Infrastructure as Code)
  - 코드형 인프라스트럭처는 물리적 하드웨어 구성이나 인터페이스 구성 도구가 아닌 기계가 읽을 수 있는 정의 파일들을 통한 컴퓨터 데이터 센터의 관리 및 프로비저닝 과정 
  - 관리되는 IT 인프라스트럭처는 베어 메탈 서버 등의 물리 장비와 가상 머신 및 관련 구성 리소스를 모두 구성함. 
  - 수동 프로세스가 아닌 스크립트나 선언형 정의를 사용할 수 있으나 이 용어는 선언적 접근을 제고하기 위해 사용되는 일이 더 많음 
  - IaC 접근방식은 클라우드 컴퓨팅을 위해 제고되며 서비스형 인프라스트럭처(IaaS)로 마케팅되기도 함 
  - 장점
    - 비용절감
    - 배포 속도 향상
    - 오류 감소
    - 인프라 일관성 향상
    - 구성 변동 제거 
  - 많이 사용되는 툴
    - Chef
    - Puppet
    - Ansible
    - Saltstack
    - Terraform
  - IaC를 구성하는 정의 파일
    - JSON, YAML, XML 혹은 자체적으로 사용하는 도메인 특화 언어 DSL(Domain Specific Language)로 구성된 정의 파일을 이용해서 인프라를 구성함
    - 테라폼 자체 도메인 특화언어인 HCL을 이용해서 EC2 인스턴스를 실행하는 정의파일  
  - 신뢰성 있는 IaC 툴을 위한 조건 
    - 멱등성(idempotent) : 동일한 스크립트나 작업을 악영향 없이 여러번 실행할 수 있어야 함 
    - 사전 점검 : 스크립트 실행전에 스크립트가 실행이 실제 시스템에 미칠 영향을 사전에 점검할 수 있어야만 함 
    - 사후 점검 : 스크립트 실행 후에 스크립트 실행이 시스템 변경을 성공적으로 완료했는지 확인하고, 만약 에러가 발생했으면 에러가 발생한 원인과 이유를 쉽게 확인할 수 있어야 함 
  - 테라폼(Terraform)
    - 하시코프사에서 만든 오픈소스 코드형 인프라스트럭처 도구 
    - HashiCorp Configuration Language (HCL0을 코드를 통해 인프라를 관리할 수 있음 
